{"version":3,"sources":["webpack:///./node_modules/events/events.js","webpack:///./node_modules/react-dfp/lib/index.js","webpack:///./node_modules/react-dfp/lib/adslot.js","webpack:///./node_modules/react-dfp/lib/dfpslotsprovider.js","webpack:///./node_modules/react-dfp/lib/utils.js","webpack:///./node_modules/react-dfp/lib/manager.js"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","DFPSlotsProvider","AdSlot","DFPManager","_manager","_interopRequireDefault","_adslot","_dfpslotsprovider","obj","__esModule","default","_react","_propTypes","_typeof","Symbol","iterator","constructor","_extends","assign","source","hasOwnProperty","_objectSpread","filter","sym","getOwnPropertyDescriptor","forEach","_defineProperty","_defineProperties","props","descriptor","configurable","writable","_getPrototypeOf","o","setPrototypeOf","__proto__","_setPrototypeOf","p","_assertThisInitialized","self","ReferenceError","dynamicAdCount","_React$Component","_this","instance","Constructor","_classCallCheck","doRegisterSlot","generateSlotId","getSlotId","mapContextToAdSlotProps","slotShouldRefresh","slotRenderEnded","slotRegisterCallback","slotIsViewable","slotVisibilityChanged","getClasses","slotId","className","adElementRef","createRef","element","protoProps","staticProps","subClass","superClass","_inherits","newSlotCallback","registerSlot","unregisterSlot","extraClasses","split","mappedProps","dfpNetworkId","dfpAdUnit","adUnit","dfpSizeMapping","sizeMapping","dfpTargetingArguments","targetingArguments","fetchNow","load","attachSlotRenderEnded","attachSlotIsViewable","attachSlotVisibilityChanged","setState","detachSlotRenderEnded","detachSlotIsViewable","detachSlotVisibilityChanged","eventData","onSlotRender","params","onSlotRegister","sizes","slotCount","onSlotIsViewable","onSlotVisibilityChanged","r","shouldRefresh","id","createElement","join","trim","ref","Component","string","arrayOf","oneOfType","number","renderOutOfThePage","bool","object","adSenseAttributes","func","Context","contextTypes","contextType","_default","createContext","loadAdsIfPossible","applyConfigs","shouldReloadConfig","attachLoadCallback","getContextValue","loadAlreadyCalled","loadCallbackAttached","shouldReloadAds","totalSlots","contextValue","getChildContext","autoLoad","nextProps","children","reload","_this$props","_this$contextValue","ctxDfpNetworkId","ctxDfpAdUnit","ctxDfpSizeMapping","ctxDfpTargetingArguments","configurePersonalizedAds","personalizedAds","configureCookieOption","cookieOption","configureSingleRequest","singleRequest","configureDisableInitialLoad","disableInitialLoad","configureLazyLoad","lazyLoad","setAdSenseAttributes","setCollapseEmptyDivs","collapseEmptyDivs","getRegisteredSlots","reloadConfig","autoReload","attrs","propName","Provider","array","isRequired","shape","adSenseAttrs","fetchMarginPercent","renderMarginPercent","mobileScaling","childContextTypes","loadGPTScript","window","googletag","cmd","scriptTag","document","src","location","protocol","async","onerror","errs","onload","getElementsByTagName","appendChild","doloadGPTScript","Utils","newObj","desc","_interopRequireWildcard","loadPromise","googleGPTScriptLoadPromise","singleRequestEnabled","disableInitialLoadEnabled","lazyLoadEnabled","lazyLoadConfig","servePersonalizedAds","serveCookies","registeredSlots","managerAlreadyInitialized","globalTargetingArguments","globalAdSenseAttributes","singleRequestIsEnabled","disableInitialLoadIsEnabled","enable","config","conf","lazyLoadIsEnabled","getLazyLoadConfig","getAdSenseAttribute","personalizedAdsEnabled","cookiesEnabled","setAdSenseAttribute","getAdSenseAttributes","getGoogletag","then","pubadsService","pubads","setTargetingArguments","data","varName","setTargeting","getTargetingArguments","getSlotProperty","slot","getSlotTargetingArguments","propValue","getSlotAdSenseAttributes","event","getSlotElementId","setRequestNonPersonalizedAds","setCookieOptions","collapse","_this2","_len","slots","_key","doLoad","availableSlots","_len2","_key2","loading","gptSlot","gptLoadAds","slotsToInitialize","_this3","configureInitialOptions","currentSlotId","defineOutOfPageSlot","defineSlot","slotTargetingArguments","slotAdSenseAttributes","addService","smbuilder","mapping","addSize","viewport","defineSizeMapping","build","configureOptions","enableServices","theSlotId","display","_this4","_this5","enableLazyLoad","enableSingleRequest","getRefreshableSlots","_len3","slotsArray","_key3","slotsToRefresh","map","k","reduce","last","refresh","gptRefreshAds","_this6","_this7","destroyGPTSlots","_this8","_len4","slotsToDestroy","_key4","idx","_idx","_slot","destroySlots","_ref","_this9","catch","_ref2","cb"],"mappings":"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","file":"e33ef5d396c35693bce5a8453211e66351a9699f-627f35f701db3ab26487.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    eventTargetAgnosticAddListener(emitter, name, resolver, {\n      once: true\n    });\n\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, {\n        once: true\n      });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DFPSlotsProvider = exports.AdSlot = exports.DFPManager = void 0;\n\nvar _manager = _interopRequireDefault(require(\"./manager\"));\n\nvar _adslot = _interopRequireDefault(require(\"./adslot\"));\n\nvar _dfpslotsprovider = _interopRequireDefault(require(\"./dfpslotsprovider\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar DFPManager = _manager.default;\nexports.DFPManager = DFPManager;\nvar AdSlot = _adslot.default;\nexports.AdSlot = AdSlot;\nvar DFPSlotsProvider = _dfpslotsprovider.default;\nexports.DFPSlotsProvider = DFPSlotsProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.AdSlot = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _manager = _interopRequireDefault(require(\"./manager\"));\n\nvar _dfpslotsprovider = require(\"./dfpslotsprovider\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar dynamicAdCount = 0;\n\nvar AdSlot = /*#__PURE__*/function (_React$Component) {\n  _inherits(AdSlot, _React$Component);\n\n  function AdSlot(props) {\n    var _this;\n\n    _classCallCheck(this, AdSlot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AdSlot).call(this, props));\n    _this.doRegisterSlot = _this.doRegisterSlot.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.generateSlotId = _this.generateSlotId.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getSlotId = _this.getSlotId.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.mapContextToAdSlotProps = _this.mapContextToAdSlotProps.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotShouldRefresh = _this.slotShouldRefresh.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotRenderEnded = _this.slotRenderEnded.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotRegisterCallback = _this.slotRegisterCallback.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotIsViewable = _this.slotIsViewable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotVisibilityChanged = _this.slotVisibilityChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getClasses = _this.getClasses.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      slotId: _this.props.slotId || null,\n      className: _this.props.className || ''\n    };\n    _this.adElementRef = _react.default.createRef ? _react.default.createRef() : function (element) {\n      _this.adElementRef = element;\n    };\n    return _this;\n  }\n\n  _createClass(AdSlot, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // register this ad-unit in the <DFPSlotProvider>, when available.\n      if (this.context !== undefined && this.context.newSlotCallback) {\n        this.context.newSlotCallback();\n      }\n\n      this.registerSlot();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unregisterSlot();\n    }\n  }, {\n    key: \"getSlotId\",\n    value: function getSlotId() {\n      return this.props.slotId || this.state.slotId;\n    }\n  }, {\n    key: \"getClasses\",\n    value: function getClasses() {\n      var baseClass = 'adunitContainer';\n      var extraClasses = this.state.className.split(' ');\n      extraClasses.push(baseClass);\n      return extraClasses;\n    }\n  }, {\n    key: \"generateSlotId\",\n    value: function generateSlotId() {\n      return \"adSlot-\".concat(dynamicAdCount++);\n    }\n  }, {\n    key: \"mapContextToAdSlotProps\",\n    value: function mapContextToAdSlotProps() {\n      var context = this.context;\n      var mappedProps = {};\n\n      if (context.dfpNetworkId !== undefined) {\n        mappedProps.dfpNetworkId = context.dfpNetworkId;\n      }\n\n      if (context.dfpAdUnit !== undefined) {\n        mappedProps.adUnit = context.dfpAdUnit;\n      }\n\n      if (context.dfpSizeMapping !== undefined) {\n        mappedProps.sizeMapping = context.dfpSizeMapping;\n      }\n\n      if (context.dfpTargetingArguments !== undefined) {\n        mappedProps.targetingArguments = context.dfpTargetingArguments;\n      }\n\n      return mappedProps;\n    }\n  }, {\n    key: \"doRegisterSlot\",\n    value: function doRegisterSlot() {\n      _manager.default.registerSlot(_objectSpread({}, this.mapContextToAdSlotProps(), this.props, this.state, {\n        slotShouldRefresh: this.slotShouldRefresh\n      }));\n\n      if (this.props.fetchNow === true) {\n        _manager.default.load(this.getSlotId());\n      }\n\n      _manager.default.attachSlotRenderEnded(this.slotRenderEnded);\n\n      _manager.default.attachSlotIsViewable(this.slotIsViewable);\n\n      _manager.default.attachSlotVisibilityChanged(this.slotVisibilityChanged);\n\n      this.slotRegisterCallback();\n    }\n  }, {\n    key: \"registerSlot\",\n    value: function registerSlot() {\n      if (this.state.slotId === null) {\n        this.setState({\n          slotId: this.generateSlotId()\n        }, this.doRegisterSlot);\n      } else {\n        this.doRegisterSlot();\n      }\n    }\n  }, {\n    key: \"unregisterSlot\",\n    value: function unregisterSlot() {\n      _manager.default.unregisterSlot(_objectSpread({}, this.mapContextToAdSlotProps(), this.props, this.state));\n\n      _manager.default.detachSlotRenderEnded(this.slotRenderEnded);\n\n      _manager.default.detachSlotIsViewable(this.slotIsViewable);\n\n      _manager.default.detachSlotVisibilityChanged(this.slotVisibilityChanged);\n    }\n  }, {\n    key: \"slotRenderEnded\",\n    value: function slotRenderEnded(eventData) {\n      if (eventData.slotId === this.getSlotId()) {\n        if (this.props.onSlotRender !== undefined) {\n          // now that slot has rendered we have access to the ref\n          var params = _objectSpread({}, eventData, {\n            adElementRef: this.adElementRef\n          });\n\n          this.props.onSlotRender(params);\n        }\n      }\n    }\n  }, {\n    key: \"slotRegisterCallback\",\n    value: function slotRegisterCallback() {\n      if (typeof this.props.onSlotRegister === 'function') {\n        this.props.onSlotRegister({\n          slotId: this.getSlotId(),\n          sizes: this.props.sizes,\n          slotCount: dynamicAdCount,\n          adElementRef: this.adElementRef\n        });\n      }\n    }\n  }, {\n    key: \"slotIsViewable\",\n    value: function slotIsViewable(eventData) {\n      if (eventData.slotId === this.getSlotId()) {\n        if (this.props.onSlotIsViewable !== undefined) {\n          this.props.onSlotIsViewable(eventData);\n        }\n      }\n    }\n  }, {\n    key: \"slotVisibilityChanged\",\n    value: function slotVisibilityChanged(eventData) {\n      if (eventData.slotId === this.getSlotId()) {\n        if (this.props.onSlotVisibilityChanged !== undefined) {\n          this.props.onSlotVisibilityChanged(eventData);\n        }\n      }\n    }\n  }, {\n    key: \"slotShouldRefresh\",\n    value: function slotShouldRefresh() {\n      var r = true;\n\n      if (this.props.shouldRefresh !== undefined) {\n        r = this.props.shouldRefresh(_objectSpread({}, this.mapContextToAdSlotProps(), this.props, {\n          slotId: this.getSlotId()\n        }));\n      }\n\n      return r;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var slotId = this.state.slotId;\n      var props = {\n        className: 'adBox'\n      };\n\n      if (slotId !== null) {\n        props.id = slotId;\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: this.getClasses().join(' ').trim()\n      }, _react.default.createElement(\"div\", _extends({\n        ref: this.adElementRef\n      }, props)));\n    }\n  }]);\n\n  return AdSlot;\n}(_react.default.Component);\n\nexports.AdSlot = AdSlot;\n\n_defineProperty(AdSlot, \"propTypes\", {\n  dfpNetworkId: _propTypes.default.string,\n  adUnit: _propTypes.default.string,\n  sizes: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.number), _propTypes.default.string])),\n  renderOutOfThePage: _propTypes.default.bool,\n  sizeMapping: _propTypes.default.arrayOf(_propTypes.default.object),\n  fetchNow: _propTypes.default.bool,\n  adSenseAttributes: _propTypes.default.object,\n  targetingArguments: _propTypes.default.object,\n  onSlotRender: _propTypes.default.func,\n  onSlotRegister: _propTypes.default.func,\n  onSlotIsViewable: _propTypes.default.func,\n  onSlotVisibilityChanged: _propTypes.default.func,\n  shouldRefresh: _propTypes.default.func,\n  slotId: _propTypes.default.string,\n  className: _propTypes.default.string\n});\n\n_defineProperty(AdSlot, \"defaultProps\", {\n  fetchNow: false\n});\n\nif (_dfpslotsprovider.Context === null) {\n  // React < 16.3\n  AdSlot.contextTypes = {\n    dfpNetworkId: _propTypes.default.string,\n    dfpAdUnit: _propTypes.default.string,\n    dfpSizeMapping: _propTypes.default.arrayOf(_propTypes.default.object),\n    dfpTargetingArguments: _propTypes.default.object,\n    newSlotCallback: _propTypes.default.func\n  };\n} else {\n  AdSlot.contextType = _dfpslotsprovider.Context;\n}\n\nvar _default = AdSlot;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Context = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _manager = _interopRequireDefault(require(\"./manager\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // React.createContext is undefined for React < 16.3\n\n\nvar Context = _react.default.createContext ? _react.default.createContext({\n  dfpNetworkId: null,\n  dfpAdUnit: null,\n  dfpSizeMapping: null,\n  dfpTargetingArguments: null,\n  newSlotCallback: null\n}) : null;\nexports.Context = Context;\n\nvar DFPSlotsProvider = /*#__PURE__*/function (_React$Component) {\n  _inherits(DFPSlotsProvider, _React$Component);\n\n  function DFPSlotsProvider(props) {\n    var _this;\n\n    _classCallCheck(this, DFPSlotsProvider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DFPSlotsProvider).call(this, props));\n    _this.loadAdsIfPossible = _this.loadAdsIfPossible.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.newSlotCallback = _this.newSlotCallback.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.applyConfigs = _this.applyConfigs.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.shouldReloadConfig = _this.shouldReloadConfig.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.attachLoadCallback = _this.attachLoadCallback.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getContextValue = _this.getContextValue.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.loadAlreadyCalled = false;\n    _this.loadCallbackAttached = false;\n    _this.shouldReloadAds = false;\n    _this.totalSlots = 0;\n    _this.contextValue = {};\n\n    if (Context === null) {\n      _this.getChildContext = function () {\n        return _this.getContextValue();\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(DFPSlotsProvider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.applyConfigs();\n\n      if (this.props.autoLoad && !this.loadAdsIfPossible()) {\n        this.attachLoadCallback();\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      this.shouldReloadAds = this.shouldReloadConfig(nextProps);\n\n      if (nextProps.children !== this.props.children) {\n        return true;\n      }\n\n      if (nextProps.autoLoad && !this.props.autoLoad) {\n        return true;\n      }\n\n      return this.shouldReloadAds;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.applyConfigs();\n\n      if (this.props.autoLoad) {\n        if (this.loadAlreadyCalled) {\n          if (this.shouldReloadAds) {\n            _manager.default.reload();\n          }\n        } else if (!this.loadAdsIfPossible()) {\n          this.attachLoadCallback();\n        }\n      }\n\n      this.shouldReloadAds = false;\n    }\n  }, {\n    key: \"getContextValue\",\n    value: function getContextValue() {\n      var _this$props = this.props,\n          dfpNetworkId = _this$props.dfpNetworkId,\n          dfpAdUnit = _this$props.adUnit,\n          dfpSizeMapping = _this$props.sizeMapping,\n          dfpTargetingArguments = _this$props.targetingArguments,\n          _this$contextValue = this.contextValue,\n          ctxDfpNetworkId = _this$contextValue.dfpNetworkId,\n          ctxDfpAdUnit = _this$contextValue.adUnit,\n          ctxDfpSizeMapping = _this$contextValue.sizeMapping,\n          ctxDfpTargetingArguments = _this$contextValue.targetingArguments; // performance: update context value object only when any of its\n      // props is updated.\n\n      if (dfpNetworkId !== ctxDfpNetworkId || dfpAdUnit !== ctxDfpAdUnit || dfpSizeMapping !== ctxDfpSizeMapping || dfpTargetingArguments !== ctxDfpTargetingArguments) {\n        this.contextValue = {\n          dfpNetworkId: dfpNetworkId,\n          dfpAdUnit: dfpAdUnit,\n          dfpSizeMapping: dfpSizeMapping,\n          dfpTargetingArguments: dfpTargetingArguments,\n          newSlotCallback: this.newSlotCallback\n        };\n      }\n\n      return this.contextValue;\n    }\n  }, {\n    key: \"applyConfigs\",\n    value: function applyConfigs() {\n      _manager.default.configurePersonalizedAds(this.props.personalizedAds);\n\n      _manager.default.configureCookieOption(this.props.cookieOption);\n\n      _manager.default.configureSingleRequest(this.props.singleRequest);\n\n      _manager.default.configureDisableInitialLoad(this.props.disableInitialLoad);\n\n      _manager.default.configureLazyLoad(!!this.props.lazyLoad, typeof this.props.lazyLoad === 'boolean' ? null : this.props.lazyLoad);\n\n      _manager.default.setAdSenseAttributes(this.props.adSenseAttributes);\n\n      _manager.default.setCollapseEmptyDivs(this.props.collapseEmptyDivs);\n    }\n  }, {\n    key: \"attachLoadCallback\",\n    value: function attachLoadCallback() {\n      if (this.loadCallbackAttached === false) {\n        _manager.default.on('slotRegistered', this.loadAdsIfPossible);\n\n        this.loadCallbackAttached = true;\n        return true;\n      }\n\n      return false;\n    } // pretty strait-forward interface that children ad slots use to register\n    // with their DFPSlotProvider parent node.\n\n  }, {\n    key: \"newSlotCallback\",\n    value: function newSlotCallback() {\n      this.totalSlots++;\n    } // Checks all the mounted children ads have been already registered\n    // in the DFPManager before trying to call the gpt load scripts.\n    // This is helpful when trying to fetch ads with a single request.\n\n  }, {\n    key: \"loadAdsIfPossible\",\n    value: function loadAdsIfPossible() {\n      var r = false;\n\n      if (Object.keys(_manager.default.getRegisteredSlots()).length >= this.totalSlots) {\n        _manager.default.removeListener('slotRegistered', this.loadAdsIfPossible);\n\n        _manager.default.load();\n\n        this.loadAlreadyCalled = true;\n        this.loadCallbackAttached = false;\n        r = true;\n      }\n\n      return r;\n    }\n  }, {\n    key: \"shouldReloadConfig\",\n    value: function shouldReloadConfig(nextProps) {\n      var reloadConfig = nextProps.autoReload || this.props.autoReload;\n\n      if (this.props.autoLoad || nextProps.autoLoad) {\n        if (_typeof(reloadConfig) === 'object') {\n          var attrs = Object.keys(reloadConfig); // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n          for (var i in attrs) {\n            var propName = attrs[i]; // eslint-disable-next-line\n\n            if (reloadConfig[propName] === true && this.props[propName] !== nextProps[propName]) {\n              return true;\n            }\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n\n      if (Context === null) {\n        return children;\n      }\n\n      return _react.default.createElement(Context.Provider, {\n        value: this.getContextValue()\n      }, children);\n    }\n  }]);\n\n  return DFPSlotsProvider;\n}(_react.default.Component);\n\nexports.default = DFPSlotsProvider;\n\n_defineProperty(DFPSlotsProvider, \"propTypes\", {\n  children: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.array]).isRequired,\n  autoLoad: _propTypes.default.bool,\n  autoReload: _propTypes.default.shape({\n    dfpNetworkId: _propTypes.default.bool,\n    personalizedAds: _propTypes.default.bool,\n    cookieOption: _propTypes.default.bool,\n    singleRequest: _propTypes.default.bool,\n    disableInitialLoad: _propTypes.default.bool,\n    adUnit: _propTypes.default.bool,\n    sizeMapping: _propTypes.default.bool,\n    adSenseAttributes: _propTypes.default.bool,\n    targetingArguments: _propTypes.default.bool,\n    collapseEmptyDivs: _propTypes.default.bool,\n    lazyLoad: _propTypes.default.bool\n  }),\n  dfpNetworkId: _propTypes.default.string.isRequired,\n  personalizedAds: _propTypes.default.bool,\n  cookieOption: _propTypes.default.bool,\n  singleRequest: _propTypes.default.bool,\n  disableInitialLoad: _propTypes.default.bool,\n  adUnit: _propTypes.default.string,\n  sizeMapping: _propTypes.default.arrayOf(_propTypes.default.object),\n  adSenseAttributes: _propTypes.default.object,\n  targetingArguments: _propTypes.default.object,\n  collapseEmptyDivs: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.object]),\n  adSenseAttrs: _propTypes.default.object,\n  lazyLoad: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.shape({\n    fetchMarginPercent: _propTypes.default.number,\n    renderMarginPercent: _propTypes.default.number,\n    mobileScaling: _propTypes.default.number\n  })])\n});\n\n_defineProperty(DFPSlotsProvider, \"defaultProps\", {\n  autoLoad: true,\n  autoReload: {\n    dfpNetworkId: false,\n    personalizedAds: false,\n    cookieOption: false,\n    singleRequest: false,\n    disableInitialLoad: false,\n    adUnit: false,\n    sizeMapping: false,\n    adSenseAttributes: false,\n    targetingArguments: false,\n    collapseEmptyDivs: false,\n    lazyLoad: false\n  },\n  personalizedAds: true,\n  cookieOption: true,\n  singleRequest: true,\n  disableInitialLoad: false,\n  collapseEmptyDivs: null,\n  lazyLoad: false\n});\n\nif (Context === null) {\n  // React < 16.3\n  DFPSlotsProvider.childContextTypes = {\n    dfpNetworkId: _propTypes.default.string,\n    dfpAdUnit: _propTypes.default.string,\n    dfpSizeMapping: _propTypes.default.arrayOf(_propTypes.default.object),\n    dfpTargetingArguments: _propTypes.default.object,\n    newSlotCallback: _propTypes.default.func\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadGPTScript = loadGPTScript;\n\nfunction doloadGPTScript(resolve, reject) {\n  window.googletag = window.googletag || {};\n  window.googletag.cmd = window.googletag.cmd || [];\n  var scriptTag = document.createElement('script');\n  scriptTag.src = \"\".concat(document.location.protocol, \"//securepubads.g.doubleclick.net/tag/js/gpt.js\");\n  scriptTag.async = true;\n  scriptTag.type = 'text/javascript';\n\n  scriptTag.onerror = function scriptTagOnError(errs) {\n    reject(errs);\n  };\n\n  scriptTag.onload = function scriptTagOnLoad() {\n    resolve(window.googletag);\n  };\n\n  document.getElementsByTagName('head')[0].appendChild(scriptTag);\n}\n\nfunction loadGPTScript() {\n  return new Promise(function (resolve, reject) {\n    doloadGPTScript(resolve, reject);\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _events = require(\"events\");\n\nvar Utils = _interopRequireWildcard(require(\"./utils\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar loadPromise = null;\nvar googleGPTScriptLoadPromise = null;\nvar singleRequestEnabled = true;\nvar disableInitialLoadEnabled = false;\nvar lazyLoadEnabled = false;\nvar lazyLoadConfig = null;\nvar servePersonalizedAds = true;\nvar serveCookies = true;\nvar registeredSlots = {};\nvar managerAlreadyInitialized = false;\nvar globalTargetingArguments = {};\nvar globalAdSenseAttributes = {};\nvar DFPManager = Object.assign(new _events.EventEmitter().setMaxListeners(0), {\n  singleRequestIsEnabled: function singleRequestIsEnabled() {\n    return singleRequestEnabled;\n  },\n  configureSingleRequest: function configureSingleRequest(value) {\n    singleRequestEnabled = !!value;\n  },\n  disableInitialLoadIsEnabled: function disableInitialLoadIsEnabled() {\n    return disableInitialLoadEnabled;\n  },\n  configureDisableInitialLoad: function configureDisableInitialLoad(value) {\n    disableInitialLoadEnabled = !!value;\n  },\n  configureLazyLoad: function configureLazyLoad() {\n    var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var conf = null;\n\n    if (config !== null && _typeof(config) === 'object') {\n      conf = _objectSpread({}, config);\n    }\n\n    lazyLoadEnabled = !!enable;\n    lazyLoadConfig = conf;\n  },\n  lazyLoadIsEnabled: function lazyLoadIsEnabled() {\n    return lazyLoadEnabled;\n  },\n  getLazyLoadConfig: function getLazyLoadConfig() {\n    return lazyLoadConfig;\n  },\n  getAdSenseAttribute: function getAdSenseAttribute(key) {\n    return globalAdSenseAttributes[key];\n  },\n  configurePersonalizedAds: function configurePersonalizedAds(value) {\n    servePersonalizedAds = value;\n  },\n  configureCookieOption: function configureCookieOption(value) {\n    serveCookies = value;\n  },\n  personalizedAdsEnabled: function personalizedAdsEnabled() {\n    return servePersonalizedAds;\n  },\n  cookiesEnabled: function cookiesEnabled() {\n    return serveCookies;\n  },\n  setAdSenseAttribute: function setAdSenseAttribute(key, value) {\n    this.setAdSenseAttributes(_defineProperty({}, key, value));\n  },\n  getAdSenseAttributes: function getAdSenseAttributes() {\n    return _objectSpread({}, globalAdSenseAttributes);\n  },\n  setAdSenseAttributes: function setAdSenseAttributes(attrs) {\n    Object.assign(globalAdSenseAttributes, attrs);\n\n    if (managerAlreadyInitialized === true) {\n      this.getGoogletag().then(function (googletag) {\n        googletag.cmd.push(function () {\n          var pubadsService = googletag.pubads();\n          Object.keys(globalAdSenseAttributes).forEach(function (key) {\n            pubadsService.set(key, globalTargetingArguments[key]);\n          });\n        });\n      });\n    }\n  },\n  setTargetingArguments: function setTargetingArguments(data) {\n    Object.assign(globalTargetingArguments, data);\n\n    if (managerAlreadyInitialized === true) {\n      this.getGoogletag().then(function (googletag) {\n        googletag.cmd.push(function () {\n          var pubadsService = googletag.pubads();\n          Object.keys(globalTargetingArguments).forEach(function (varName) {\n            if (pubadsService) {\n              pubadsService.setTargeting(varName, globalTargetingArguments[varName]);\n            }\n          });\n        });\n      });\n    }\n  },\n  getTargetingArguments: function getTargetingArguments() {\n    return _objectSpread({}, globalTargetingArguments);\n  },\n  getSlotProperty: function getSlotProperty(slotId, propName) {\n    var slot = this.getRegisteredSlots()[slotId];\n    var ret = null;\n\n    if (slot !== undefined) {\n      ret = slot[propName] || ret;\n    }\n\n    return ret;\n  },\n  getSlotTargetingArguments: function getSlotTargetingArguments(slotId) {\n    var propValue = this.getSlotProperty(slotId, 'targetingArguments');\n    return propValue ? _objectSpread({}, propValue) : null;\n  },\n  getSlotAdSenseAttributes: function getSlotAdSenseAttributes(slotId) {\n    var propValue = this.getSlotProperty(slotId, 'adSenseAttributes');\n    return propValue ? _objectSpread({}, propValue) : null;\n  },\n  init: function init() {\n    var _this = this;\n\n    if (managerAlreadyInitialized === false) {\n      managerAlreadyInitialized = true;\n      this.getGoogletag().then(function (googletag) {\n        googletag.cmd.push(function () {\n          var pubadsService = googletag.pubads();\n          pubadsService.addEventListener('slotRenderEnded', function (event) {\n            var slotId = event.slot.getSlotElementId();\n\n            _this.emit('slotRenderEnded', {\n              slotId: slotId,\n              event: event\n            });\n          });\n          pubadsService.addEventListener('impressionViewable', function (event) {\n            var slotId = event.slot.getSlotElementId();\n\n            _this.emit('impressionViewable', {\n              slotId: slotId,\n              event: event\n            });\n          });\n          pubadsService.addEventListener('slotVisibilityChanged', function (event) {\n            var slotId = event.slot.getSlotElementId();\n\n            _this.emit('slotVisibilityChanged', {\n              slotId: slotId,\n              event: event\n            });\n          });\n          pubadsService.setRequestNonPersonalizedAds(_this.personalizedAdsEnabled() ? 0 : 1);\n          pubadsService.setCookieOptions(_this.cookiesEnabled() ? 0 : 1);\n        });\n      });\n    }\n  },\n  getGoogletag: function getGoogletag() {\n    if (googleGPTScriptLoadPromise === null) {\n      googleGPTScriptLoadPromise = Utils.loadGPTScript();\n    }\n\n    return googleGPTScriptLoadPromise;\n  },\n  setCollapseEmptyDivs: function setCollapseEmptyDivs(collapse) {\n    this.collapseEmptyDivs = collapse;\n  },\n  load: function load() {\n    var _this2 = this;\n\n    for (var _len = arguments.length, slots = new Array(_len), _key = 0; _key < _len; _key++) {\n      slots[_key] = arguments[_key];\n    }\n\n    if (loadPromise === null) {\n      loadPromise = this.doLoad.apply(this, slots);\n    } else {\n      loadPromise = loadPromise.then(function () {\n        return _this2.doLoad.apply(_this2, slots);\n      });\n    }\n  },\n  doLoad: function doLoad() {\n    this.init();\n    var availableSlots = {};\n\n    for (var _len2 = arguments.length, slots = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      slots[_key2] = arguments[_key2];\n    }\n\n    if (slots.length > 0) {\n      availableSlots = slots.filter(function (slotId) {\n        return Object.prototype.hasOwnProperty.call(registeredSlots, slotId);\n      });\n    } else {\n      availableSlots = Object.keys(registeredSlots);\n    }\n\n    availableSlots = availableSlots.filter(function (id) {\n      return !registeredSlots[id].loading && !registeredSlots[id].gptSlot;\n    });\n    availableSlots.forEach(function (slotId) {\n      registeredSlots[slotId].loading = true;\n    });\n    return this.gptLoadAds(availableSlots);\n  },\n  gptLoadAds: function gptLoadAds(slotsToInitialize) {\n    var _this3 = this;\n\n    return new Promise(function (resolve) {\n      _this3.getGoogletag().then(function (googletag) {\n        _this3.configureInitialOptions(googletag);\n\n        slotsToInitialize.forEach(function (currentSlotId) {\n          registeredSlots[currentSlotId].loading = false;\n          googletag.cmd.push(function () {\n            var slot = registeredSlots[currentSlotId];\n            var gptSlot;\n            var adUnit = \"\".concat(slot.dfpNetworkId, \"/\").concat(slot.adUnit);\n\n            if (slot.renderOutOfThePage === true) {\n              gptSlot = googletag.defineOutOfPageSlot(adUnit, currentSlotId);\n            } else {\n              gptSlot = googletag.defineSlot(adUnit, slot.sizes, currentSlotId);\n            }\n\n            if (gptSlot !== null) {\n              slot.gptSlot = gptSlot;\n\n              var slotTargetingArguments = _this3.getSlotTargetingArguments(currentSlotId);\n\n              if (slotTargetingArguments !== null) {\n                Object.keys(slotTargetingArguments).forEach(function (varName) {\n                  if (slot && slot.gptSlot) {\n                    slot.gptSlot.setTargeting(varName, slotTargetingArguments[varName]);\n                  }\n                });\n              }\n\n              var slotAdSenseAttributes = _this3.getSlotAdSenseAttributes(currentSlotId);\n\n              if (slotAdSenseAttributes !== null) {\n                Object.keys(slotAdSenseAttributes).forEach(function (varName) {\n                  slot.gptSlot.set(varName, slotAdSenseAttributes[varName]);\n                });\n              }\n\n              slot.gptSlot.addService(googletag.pubads());\n\n              if (slot.sizeMapping) {\n                var smbuilder = googletag.sizeMapping();\n                slot.sizeMapping.forEach(function (mapping) {\n                  smbuilder = smbuilder.addSize(mapping.viewport, mapping.sizes);\n                });\n                slot.gptSlot.defineSizeMapping(smbuilder.build());\n              }\n            }\n          });\n        });\n\n        _this3.configureOptions(googletag);\n\n        googletag.cmd.push(function () {\n          googletag.enableServices();\n\n          if (!_this3.disableInitialLoadIsEnabled()) {\n            slotsToInitialize.forEach(function (theSlotId) {\n              googletag.display(theSlotId);\n            });\n          }\n\n          resolve();\n        });\n      });\n    });\n  },\n  // configure those gpt parameters that need to be set before pubsads service\n  // initialization.\n  configureInitialOptions: function configureInitialOptions(googletag) {\n    var _this4 = this;\n\n    googletag.cmd.push(function () {\n      if (_this4.disableInitialLoadIsEnabled()) {\n        googletag.pubads().disableInitialLoad();\n      }\n    });\n  },\n  configureOptions: function configureOptions(googletag) {\n    var _this5 = this;\n\n    googletag.cmd.push(function () {\n      var pubadsService = googletag.pubads();\n      pubadsService.setRequestNonPersonalizedAds(_this5.personalizedAdsEnabled() ? 0 : 1);\n      pubadsService.setCookieOptions(_this5.cookiesEnabled() ? 0 : 1);\n\n      var targetingArguments = _this5.getTargetingArguments(); // set global targetting arguments\n\n\n      Object.keys(targetingArguments).forEach(function (varName) {\n        if (pubadsService) {\n          pubadsService.setTargeting(varName, targetingArguments[varName]);\n        }\n      }); // set global adSense attributes\n\n      var adSenseAttributes = _this5.getAdSenseAttributes();\n\n      Object.keys(adSenseAttributes).forEach(function (key) {\n        pubadsService.set(key, adSenseAttributes[key]);\n      });\n\n      if (_this5.lazyLoadIsEnabled()) {\n        var config = _this5.getLazyLoadConfig();\n\n        if (config) {\n          pubadsService.enableLazyLoad(config);\n        } else {\n          pubadsService.enableLazyLoad();\n        }\n      }\n\n      if (_this5.singleRequestIsEnabled()) {\n        pubadsService.enableSingleRequest();\n      }\n\n      if (_this5.collapseEmptyDivs === true || _this5.collapseEmptyDivs === false) {\n        pubadsService.collapseEmptyDivs(_this5.collapseEmptyDivs);\n      }\n    });\n  },\n  getRefreshableSlots: function getRefreshableSlots() {\n    var slots = {};\n\n    for (var _len3 = arguments.length, slotsArray = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      slotsArray[_key3] = arguments[_key3];\n    }\n\n    if (slotsArray.length === 0) {\n      var slotsToRefresh = Object.keys(registeredSlots).map(function (k) {\n        return registeredSlots[k];\n      });\n      return slotsToRefresh.reduce(function (last, slot) {\n        if (slot.slotShouldRefresh() === true) {\n          slots[slot.slotId] = slot;\n        }\n\n        return slots;\n      }, slots);\n    }\n\n    return slotsArray.reduce(function (last, slotId) {\n      var slot = registeredSlots[slotId];\n\n      if (typeof slot !== 'undefined') {\n        slots[slotId] = slot;\n      }\n\n      return slots;\n    }, slots);\n  },\n  refresh: function refresh() {\n    if (loadPromise === null) {\n      this.load();\n    } else {\n      this.gptRefreshAds(Object.keys(this.getRefreshableSlots.apply(this, arguments)));\n    }\n  },\n  gptRefreshAds: function gptRefreshAds(slots) {\n    var _this6 = this;\n\n    return this.getGoogletag().then(function (googletag) {\n      _this6.configureOptions(googletag);\n\n      googletag.cmd.push(function () {\n        var pubadsService = googletag.pubads();\n        pubadsService.refresh(slots.map(function (slotId) {\n          return registeredSlots[slotId].gptSlot;\n        }));\n      });\n    });\n  },\n  reload: function reload() {\n    var _this7 = this;\n\n    return this.destroyGPTSlots.apply(this, arguments).then(function () {\n      return _this7.load();\n    });\n  },\n  destroyGPTSlots: function destroyGPTSlots() {\n    var _this8 = this;\n\n    for (var _len4 = arguments.length, slotsToDestroy = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      slotsToDestroy[_key4] = arguments[_key4];\n    }\n\n    if (slotsToDestroy.length === 0) {\n      // eslint-disable-next-line no-param-reassign\n      slotsToDestroy = Object.keys(registeredSlots);\n    }\n\n    return new Promise(function (resolve) {\n      var slots = []; // eslint-disable-next-line guard-for-in,no-restricted-syntax\n\n      for (var idx in slotsToDestroy) {\n        var slotId = slotsToDestroy[idx];\n        var slot = registeredSlots[slotId];\n        slots.push(slot);\n      }\n\n      _this8.getGoogletag().then(function (googletag) {\n        googletag.cmd.push(function () {\n          if (managerAlreadyInitialized === true) {\n            if (slotsToDestroy.length > 0) {\n              // eslint-disable-next-line guard-for-in,no-restricted-syntax\n              for (var _idx in slots) {\n                var _slot = slots[_idx];\n                slots.push(_slot.gptSlot);\n                delete _slot.gptSlot;\n              }\n\n              googletag.destroySlots(slots);\n            } else {\n              googletag.destroySlots();\n            }\n          }\n\n          resolve(slotsToDestroy);\n        });\n      });\n    });\n  },\n  registerSlot: function registerSlot(_ref) {\n    var _this9 = this;\n\n    var slotId = _ref.slotId,\n        dfpNetworkId = _ref.dfpNetworkId,\n        adUnit = _ref.adUnit,\n        sizes = _ref.sizes,\n        renderOutOfThePage = _ref.renderOutOfThePage,\n        sizeMapping = _ref.sizeMapping,\n        adSenseAttributes = _ref.adSenseAttributes,\n        targetingArguments = _ref.targetingArguments,\n        slotShouldRefresh = _ref.slotShouldRefresh;\n    var autoLoad = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (!Object.prototype.hasOwnProperty.call(registeredSlots, slotId)) {\n      registeredSlots[slotId] = {\n        slotId: slotId,\n        sizes: sizes,\n        renderOutOfThePage: renderOutOfThePage,\n        dfpNetworkId: dfpNetworkId,\n        adUnit: adUnit,\n        adSenseAttributes: adSenseAttributes,\n        targetingArguments: targetingArguments,\n        sizeMapping: sizeMapping,\n        slotShouldRefresh: slotShouldRefresh,\n        loading: false\n      };\n      this.emit('slotRegistered', {\n        slotId: slotId\n      });\n\n      if (autoLoad === true && loadPromise !== null) {\n        loadPromise = loadPromise.catch().then(function () {\n          var slot = registeredSlots[slotId];\n\n          if (typeof slot !== 'undefined') {\n            var loading = slot.loading,\n                gptSlot = slot.gptSlot;\n\n            if (loading === false && !gptSlot) {\n              _this9.load(slotId);\n            }\n          }\n        });\n      }\n    }\n  },\n  unregisterSlot: function unregisterSlot(_ref2) {\n    var slotId = _ref2.slotId;\n    this.destroyGPTSlots(slotId);\n    delete registeredSlots[slotId];\n  },\n  getRegisteredSlots: function getRegisteredSlots() {\n    return registeredSlots;\n  },\n  attachSlotRenderEnded: function attachSlotRenderEnded(cb) {\n    this.on('slotRenderEnded', cb);\n  },\n  detachSlotRenderEnded: function detachSlotRenderEnded(cb) {\n    this.removeListener('slotRenderEnded', cb);\n  },\n  attachSlotVisibilityChanged: function attachSlotVisibilityChanged(cb) {\n    this.on('slotVisibilityChanged', cb);\n  },\n  detachSlotVisibilityChanged: function detachSlotVisibilityChanged(cb) {\n    this.removeListener('slotVisibilityChanged', cb);\n  },\n  attachSlotIsViewable: function attachSlotIsViewable(cb) {\n    this.on('impressionViewable', cb);\n  },\n  detachSlotIsViewable: function detachSlotIsViewable(cb) {\n    this.removeListener('impressionViewable', cb);\n  }\n});\nvar _default = DFPManager;\nexports.default = _default;"],"sourceRoot":""}